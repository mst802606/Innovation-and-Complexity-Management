<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Heart Rate Monitor - Cardiac Rehab</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="logo-title-row">
      <svg class="logo-heart" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M20 36s-9.5-7.7-13.5-12.1C3.1 21.1 2 18.7 2 16.1 2 10.7 6.7 6 12.1 6c2.9 0 5.6 1.3 7.4 3.5C21.9 7.3 24.6 6 27.5 6 32.9 6 37.6 10.7 37.6 16.1c0 2.6-1.1 5-4.5 7.8C29.5 28.3 20 36 20 36z" fill="#1CA7A7" stroke="#0B3C49" stroke-width="2"/>
        <polyline points="8,20 15,28 32,12" fill="none" stroke="#FFB347" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <div>
        <h1>Cardiac Rehab Monitor</h1>
        <p id="user-info">Patient: <span id="patient-name">John Doe</span></p>
      </div>
    </div>
  </header>

  <main>
    <section id="dashboard-card">
      <div id="chart-flex-row">
        <div id="chart" role="region" aria-label="Real-time heart rate chart"></div>
        <div id="bar-summary" role="region" aria-label="Session summary bar chart"></div>
      </div>
      <div id="live-alert" role="alert" aria-live="assertive" aria-label="Live alert"></div>
    </section>

    <section id="controls-section">
      <button id="start-btn" aria-label="Start heart rate monitoring session">Start Session</button>
      <button id="stop-btn" disabled aria-label="Stop heart rate monitoring session">Stop Session</button>
      <span id="session-timer" aria-label="Session timer">00:00</span>
    </section>

    <section id="stats-section" aria-label="Session Summary">
      <h2>Session Summary</h2>
      <ul>
        <li>Current: <span id="current-hr">--</span> bpm</li>
        <li>Average: <span id="avg-hr">--</span> bpm</li>
        <li>Min: <span id="min-hr">--</span> bpm</li>
        <li>Max: <span id="max-hr">--</span> bpm</li>
      </ul>
      <button id="download-csv" disabled aria-label="Download session data as CSV">Download CSV</button>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Cardiac Rehab Monitor</p>
  </footer>

  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="main.js"></script>
</body>
</html>